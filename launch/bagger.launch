<!-- Quick Rosbagger for the topics on Sim and Leviathan
Defaults: bags simulated data from occam0 and the downcam

Parameters:
###########
downcam : bool
	True for listening to downcam
occam : string
      'tffff' for listening to occam0 and not occam1-4
      'ttttt' for listening to occam0-4
bag_dir : string
	~/bags/ by default	

Looks for username = 'leviathan' to switch modes from simulated to real topics
-->

<launch>
	<arg name="downcam" default="1" />
	<arg name="occam" default="tffff" /> <!-- modes 'tffff' or 'ttttt' -->
	<arg name="bag_dir" value="$(env HOME)/bags/" />

<!-- SIM BAGGING -->
<group unless="$(eval env('USER') == 'leviathan')" >
       <group if="$(arg downcam)" >
       
       	      <!-- Record Occam0 and Downcam -->
              <group if="$(eval arg('occam') == 'tffff')" >
       	      <node pkg="rosbag" type="record" name="rosbag_record_cam"
	             args="record -o $(arg bag_dir) /leviathan/camera_0/image_raw /downcam" />
	      </group>

	      <!-- Record all cameras -->
       	      <group unless="$(eval arg('occam') == 'tffff')" >
              <node pkg="rosbag" type="record" name="rosbag_record_cam"
	             args="record -o $(arg bag_dir) 
		     	/leviathan/camera_0/image_raw
		     	/leviathan/camera_1/image_raw 
			/leviathan/camera_2/image_raw 
			/leviathan/camera_3/image_raw 
			/leviathan/camera_4/image_raw
			/downcam" />
       	      </group> 
       </group>
       <group unless="$(arg downcam)" >
       
       	      <!-- Record just occam 0 -->
              <group if="$(eval arg('occam') == 'tffff')" >
       	      <node pkg="rosbag" type="record" name="rosbag_record_cam"
	             args="record -o $(arg bag_dir) /leviathan/camera_0/image_raw" />
	      </group>
	      
	      <!-- Record all Occam Cameras but not downcam -->
       	      <group unless="$(eval arg('occam') == 'tffff')" >
              <node pkg="rosbag" type="record" name="rosbag_record_cam"
	             args="record -o $(arg bag_dir)
		     	/leviathan/camera_0/image_raw
		     	/leviathan/camera_1/image_raw 
			/leviathan/camera_2/image_raw 
			/leviathan/camera_3/image_raw 
			/leviathan/camera_4/image_raw" />
       	      </group> 
       </group>
</group>

<!-- HARDWARE BAGGING -->
<group if="$(eval env('USER') == 'leviathan')" >
       <group if="$(arg downcam)" >
       
       	      <!-- Record Occam0 and Downcam -->
              <group if="$(eval arg('occam') == 'tffff')" >
       	      <node pkg="rosbag" type="record" name="rosbag_record_cam"
	             args="record -o $(arg bag_dir) /occam/image0 /downcam" />
	      </group>

	      <!-- Record all cameras -->
       	      <group unless="$(eval arg('occam') == 'tffff')" >
              <node pkg="rosbag" type="record" name="rosbag_record_cam"
	             args="record -o $(arg bag_dir) 
		     	/occam/image0
		     	/occam/image1
			/occam/image2
			/occam/image3
			/occam/image4
			/downcam" />
       	      </group> 
       </group>
       <group unless="$(arg downcam)" >
       
       	      <!-- Record just occam 0 -->
              <group if="$(eval arg('occam') == 'tffff')" >
       	      <node pkg="rosbag" type="record" name="rosbag_record_cam"
	             args="record -o $(arg bag_dir) /occam/image0" />
	      </group>
	      
	      <!-- Record all Occam Cameras but not downcam -->
       	      <group unless="$(eval arg('occam') == 'tffff')" >
              <node pkg="rosbag" type="record" name="rosbag_record_cam"
	             args="record -o $(arg bag_dir)
		     	/occam/image0
		     	/occam/image1
			/occam/image2
			/occam/image3
			/occam/image4" />
       	      </group> 
       </group>
</group>

</launch>

